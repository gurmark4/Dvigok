# Dvigok
search_engine — реализация системы поиска по корпоративному порталу компании транслируется в vs19 как CMake-проект
транслируется в vs19 как CMake-проект
в \search_engine находятся только CMakeLists.txt, исходники, хэдеры и библиотека nlohmann_json

\search_engine\out\build\x64-Debug
здесь исполнямый и остальные файл

config.json содержит название поискового движка,
его версию, время обновления базы, files содержит 
пути к файлам, по которым необходимо осуществлять поиск

"files": [
"../resources/file001.txt",
"../resources/file002.txt",
"../resources/file003.txt",
"../resources/file004.txt",
…
]
Файл с запросами requests.json
"requests": [
"some words..",
"some words..",
"some words..",
"some words..",
…
]

Файл с ответами на запросы answers.json

"answers": {
"request001": {
"result": "true",
"relevance": {
"docid": 0, “rank” : 0.989,
"docid": 1, “rank” : 0.897,
"docid": 2, “rank” : 0.750,
"docid": 3, “rank” : 0.670,
"docid": 4, “rank” : 0.561
}
},
"request002": {
"result": "true",
"docid": 0, “rank” : 0.769
},
"request003": {
"result": "false"
}
}

При запуске индексации поисковый движок выполняет
следующие операции:
1. В отдельных потоках запускает индексацию каждого из файлов, перечисленных
в конфигурационном файле.
2. Разбивает полученные текстовые блоки из класса ConverterJSON на отдельные
слова.
3. Собирает все уникальные слова для документа и считает их количество.
4. Если слово отсутствует в базе, добавляет его в коллекцию freq_dictionary со
значением count, равным единице. Если присутствует, то увеличиваеть число
count на единицу. Число count соответствует количеству этого слова в
документе.
5. Добавляет связку слова и документа, на которой она встречается, в коллекцию
freq_dictionary со значением count, равным количеству упоминаний в документе.

Алгоритм выдачи результатов поиска
Если индексирование документов завершилось, то по нему осуществляется
поиск. В этом случае поисковый движок считывает запросы из файла requests.json и
выполняет следующие операции:
1. Разбивает поисковый запрос на отдельные слова.
2. Формирует из них список уникальных.
3. Сортирует слова в порядке увеличения частоты встречаемости: от самых
редких до самых частых. По возрастанию значения поля count поля
freq_dictionary.
4. По первому, самому редкому слову из списка находит все документы, в которых
встречается слово.
5. Далее ищет соответствия следующего слова и этого списка документов. Так по
каждому следующему слову. Список документов на каждой итерации должен
уменьшаться или, по крайней мере, не увеличиваться.
6. Если в итоге не осталось ни одного документа, то выводит количество
найденных документов, равное 0. В результат ответа записывает false.
7. Если документы найдены, рассчитывает по каждому из них релевантность и
выводит её в поле rank в ответе на запрос. Для этого для каждой страницы
рассчитывается абсолютная релевантность — сумма всех count всех найденных
в документе слов из коллекции freq_dictionary, которая делится на
максимальное значение абсолютной релевантности для всех найденных.
